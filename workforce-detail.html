<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workforce - Shelford Group Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        :root { --shelford-teal: #007B7F; --shelford-dark-teal: #005A5D; --shelford-sage: #5B7F6C; --shelford-cream: #FDFBF7; --text-dark: #1A1A1A; --text-mid: #4A4A4A; --border-light: #E5E5E5; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: var(--shelford-cream); color: var(--text-dark); line-height: 1.6; padding: 2rem; }
        .container { max-width: 1400px; margin: 0 auto; }
        header { display: flex; align-items: center; gap: 2rem; margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 3px solid var(--shelford-teal); }
        .logo-link { display: inline-block; } .logo { width: 120px; height: auto; }
        h1 { font-size: 2.5rem; color: var(--shelford-dark-teal); font-weight: 700; }
        .subtitle { font-size: 1.1rem; color: var(--text-mid); margin-top: 0.5rem; }
        h2 { font-size: 1.8rem; color: var(--shelford-dark-teal); margin: 3rem 0 1rem 0; font-weight: 600; }
        h3 { font-size: 1.3rem; color: var(--shelford-dark-teal); margin: 1rem 0; }
        .source-note { font-size: 0.9rem; color: var(--text-mid); margin-top: 0.5rem; margin-bottom: 1.5rem; font-style: italic; }
        nav { background: white; padding: 1rem 2rem; border-radius: 12px; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,123,127,0.08); }
        nav a { color: var(--shelford-teal); text-decoration: none; font-weight: 500; padding: 0.5rem 1rem; transition: all 0.2s; display: inline-block; }
        nav a:hover { background: rgba(0,123,127,0.1); border-radius: 6px; }
        nav a.active { color: var(--shelford-dark-teal); background: rgba(0,123,127,0.1); border-radius: 6px; font-weight: 600; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 3rem; }
        .metric-card { background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,123,127,0.08); border-left: 4px solid var(--shelford-teal); }
        .metric-label { font-size: 0.9rem; color: var(--text-mid); margin-bottom: 0.5rem; font-weight: 500; }
        .metric-value { font-size: 2.5rem; color: var(--shelford-dark-teal); font-weight: 700; margin-bottom: 0.25rem; }
        .metric-benchmark { font-size: 0.85rem; color: var(--text-mid); }
        .chart-container { background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 2px 8px rgba(0,123,127,0.08); margin-bottom: 3rem; }
        .chart-wrapper { position: relative; height: 400px; margin-top: 1rem; }
        .chart-controls { margin-bottom: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap; }
        .chart-btn { padding: 0.5rem 1rem; background: var(--shelford-teal); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; transition: background 0.2s; }
        .chart-btn:hover { background: var(--shelford-dark-teal); }
        .table-container { background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 2px 8px rgba(0,123,127,0.08); margin-bottom: 3rem; overflow-x: auto; }
        .sort-buttons { margin-bottom: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap; }
        .sort-btn { padding: 0.5rem 1rem; background: var(--shelford-teal); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; transition: background 0.2s; }
        .sort-btn:hover { background: var(--shelford-dark-teal); } .sort-btn.active { background: var(--shelford-dark-teal); }
        table { width: 100%; border-collapse: collapse; } thead { background: var(--shelford-teal); color: white; }
        th { padding: 1rem; text-align: left; font-weight: 600; } td { padding: 1rem; border-bottom: 1px solid var(--border-light); }
        tbody tr:hover { background: rgba(0,123,127,0.05); } .trust-name { font-weight: 500; }
        .info-box { background: rgba(0,123,127,0.05); border-left: 3px solid var(--shelford-teal); padding: 1rem 1.5rem; border-radius: 0 8px 8px 0; margin-bottom: 2rem; font-size: 0.95rem; color: var(--text-mid); }
        .info-box strong { color: var(--shelford-dark-teal); }
        footer { margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border-light); text-align: center; color: var(--text-mid); font-size: 0.9rem; }
        @media (max-width: 768px) { body { padding: 1rem; } h1 { font-size: 1.8rem; } .metric-value { font-size: 2rem; } .chart-wrapper { height: 300px; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="logo-link"><img src="shelford-logo.jpg" alt="Shelford Group" class="logo"></a>
            <div><h1>Workforce</h1><p class="subtitle">Staff experience from the NHS Staff Survey 2024</p></div>
        </header>
        <nav><div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
            <a href="index.html">Overview</a><a href="rtt-detail.html">RTT &amp; Elective Care</a><a href="ae-detail.html">A&amp;E &amp; Urgent Care</a><a href="cancer-detail.html">Cancer Services</a><a href="quality-detail.html">Patient Safety &amp; Quality</a><a href="capacity-detail.html">Capacity &amp; Beds</a><a href="workforce-detail.html" class="active">Workforce</a><a href="research-detail.html">Research &amp; Clinical Trials</a><a href="productivity-detail.html">Productivity</a>
        </div></nav>

        <!-- Sickness Absence -->
        <h2>Sickness Absence</h2>
        <p class="source-note">Source: NHS Sickness Absence Rates, November 2025 (published 26 February 2026). Rates calculated from Electronic Staff Record (ESR).</p>
        <div class="dashboard-grid">
            <div class="metric-card"><div class="metric-label">Sickness Absence Rate (Shelford Avg)</div><div class="metric-value">5.26%</div><div class="metric-benchmark">November 2025 · England: 5.61%</div></div>
        </div>

        <div class="chart-container"><h3>Sickness Absence Rate by Trust – November 2025</h3>
            <p class="source-note">Source: NHS Sickness Absence Rates, November 2025 (published 26 February 2026). Dashed line shows England average (5.61%).</p>
            <div class="chart-controls"><button class="chart-btn" onclick="sortSickChart('alpha')">A-Z</button><button class="chart-btn" onclick="sortSickChart('highest')">Highest to Lowest</button><button class="chart-btn" onclick="sortSickChart('lowest')">Lowest to Highest</button></div>
            <div class="chart-wrapper"><canvas id="sicknessChart"></canvas></div></div>

        <div class="chart-container"><h3>Sickness Absence Trend – Shelford Average vs England</h3>
            <p class="source-note">Source: NHS Sickness Absence Rates, December 2024 – November 2025 (published 26 February 2026).</p>
            <div class="chart-wrapper"><canvas id="sicknessTrendChart"></canvas></div></div>

        <!-- NHS Staff Survey -->
        <h2>NHS Staff Survey 2024</h2>
        <p class="source-note">Source: NHS Staff Survey 2024 Benchmark Report (published March 2025). Benchmarked against all 122 acute and acute &amp; community trusts in England.</p>
        <div class="info-box">
            <strong>About the data:</strong> The NHS Staff Survey runs annually (September–November) with results published the following March. All 10 Shelford trusts participate. Theme scores are on a 0–10 scale (higher = more positive); advocacy questions show % agreeing or strongly agreeing. Scores are weighted by occupational group to enable fair comparison.
        </div>

        <div class="dashboard-grid">
            <div class="metric-card"><div class="metric-label">Staff Engagement Score</div><div class="metric-value">6.92</div><div class="metric-benchmark">Shelford average · Acute trust avg: 6.83</div></div>
            <div class="metric-card"><div class="metric-label">Recommend as Place to Work</div><div class="metric-value">64.2%</div><div class="metric-benchmark">Shelford average · Acute trust avg: 60.0%</div></div>
            <div class="metric-card"><div class="metric-label">Happy with Standard of Care</div><div class="metric-value">72.4%</div><div class="metric-benchmark">Shelford average · Acute trust avg: 62.5%</div></div>
            <div class="metric-card"><div class="metric-label">Morale Score</div><div class="metric-value">5.93</div><div class="metric-benchmark">Shelford average · Acute trust avg: 5.92</div></div>
        </div>

        <!-- Trust-level table -->
        <h2>Trust-Level Staff Survey Results</h2>
        <p class="source-note">Source: NHS Staff Survey 2024 Benchmark Report. Theme scores on 0–10 scale; q25c and q25d are % agree/strongly agree.</p>
        <div class="table-container">
            <div class="sort-buttons">
                <button class="sort-btn active" onclick="sortTable('alpha', event)">A-Z</button>
                <button class="sort-btn" onclick="sortTable('engagement', event)">Sort by Engagement</button>
                <button class="sort-btn" onclick="sortTable('recommend', event)">Sort by Recommend</button>
                <button class="sort-btn" onclick="sortTable('care', event)">Sort by Care</button>
            </div>
            <table><thead><tr><th>Trust</th><th>Engagement</th><th>Morale</th><th>Recommend %</th><th>Care %</th></tr></thead>
            <tbody id="surveyTableBody"></tbody></table>
        </div>

        <!-- Charts -->
        <div class="chart-container"><h3>Staff Engagement Score by Trust</h3>
            <p class="source-note">Source: NHS Staff Survey 2024. Score on 0–10 scale. Dashed line shows acute trust average (6.83).</p>
            <div class="chart-controls"><button class="chart-btn" onclick="sortEngChart('alpha')">A-Z</button><button class="chart-btn" onclick="sortEngChart('highest')">Highest to Lowest</button><button class="chart-btn" onclick="sortEngChart('lowest')">Lowest to Highest</button></div>
            <div class="chart-wrapper"><canvas id="engagementChart"></canvas></div></div>

        <div class="chart-container"><h3>Recommend as Place to Work &amp; Happy with Standard of Care</h3>
            <p class="source-note">Source: NHS Staff Survey 2024. q25c: "I would recommend my organisation as a place to work"; q25d: "If a friend or relative needed treatment I would be happy with the standard of care provided by this organisation." % agree/strongly agree.</p>
            <div class="chart-wrapper"><canvas id="advocacyChart"></canvas></div></div>

        <!-- People Promise -->
        <h2>People Promise Theme Scores</h2>
        <p class="source-note">Source: NHS Staff Survey 2024 Benchmark Report. Scores on 0–10 scale. Acute trust averages shown in brackets.</p>
        <div class="table-container">
            <table>
                <thead><tr><th>Trust</th><th>Compassionate &amp; Inclusive</th><th>Recognised &amp; Rewarded</th><th>Voice that Counts</th><th>Safe &amp; Healthy</th><th>Always Learning</th><th>Work Flexibly</th><th>Team Working</th></tr></thead>
                <tbody id="ppTableBody"></tbody>
            </table>
        </div>

        <div class="chart-container"><h3>People Promise Scores – Shelford Average vs Acute Trust Average</h3>
            <p class="source-note">Source: NHS Staff Survey 2024 Benchmark Report. Radar chart comparing Shelford Group average against all acute trust average across 7 People Promise themes.</p>
            <div class="chart-wrapper"><canvas id="ppRadarChart"></canvas></div></div>

        <footer><p>&copy; 2026 Shelford Group | Data updated February 2026</p></footer>
    </div>

    <script>
        // Sickness absence data - NHS Sickness Absence Rates, November 2025
        // Published 26 February 2026, from Electronic Staff Record (ESR)
        const sickData = {
            labels: ['Birmingham','Cambridge','GSTT','Imperial',"King's",'Manchester','Newcastle','Oxford','Sheffield','UCLH'],
            nov25: [6.24, 4.56, 4.86, 5.12, 4.57, 6.33, 6.32, 4.43, 5.83, 4.39],
            // Dec 24 to Nov 25 (12 months) per trust
            trends: {
                'Birmingham': [6.49,6.21,5.92,5.52,5.30,5.27,5.54,5.68,5.79,5.84,6.28,6.24],
                'Cambridge':  [4.35,4.39,4.23,4.02,3.89,3.75,3.90,4.02,4.12,4.26,4.52,4.56],
                'GSTT':       [5.01,4.90,4.74,4.37,4.21,3.98,4.31,4.40,4.47,4.72,4.87,4.86],
                'Imperial':   [4.45,4.67,4.51,4.39,4.25,4.21,4.68,4.62,4.54,4.75,5.21,5.12],
                "King's":     [4.73,4.80,4.58,4.47,4.19,4.14,4.34,4.58,4.42,4.47,4.80,4.57],
                'Manchester': [6.83,6.83,6.19,5.63,5.46,5.40,5.70,5.84,5.73,5.94,6.39,6.33],
                'Newcastle':  [6.18,6.13,6.15,5.72,5.49,5.18,5.36,5.39,5.39,5.70,6.31,6.32],
                'Oxford':     [4.58,4.61,4.36,3.97,3.95,3.98,3.97,3.98,3.82,4.23,4.61,4.43],
                'Sheffield':  [5.86,5.90,5.47,4.90,4.78,4.47,4.56,4.66,4.73,5.00,5.83,5.83],
                'UCLH':       [4.92,4.83,4.55,4.24,4.12,4.14,4.18,4.18,3.99,4.23,4.54,4.39]
            }
        };
        const englandSickTrend = [5.74,5.71,5.26,4.88,4.79,4.70,4.93,5.08,5.07,5.29,5.67,5.61];
        const trendLabels = ['Dec 24','Jan 25','Feb 25','Mar 25','Apr 25','May 25','Jun 25','Jul 25','Aug 25','Sep 25','Oct 25','Nov 25'];

        // Sickness bar chart
        const sickBarData = { labels: [...sickData.labels], values: [...sickData.nov25] };
        let sicknessChart = new Chart(document.getElementById('sicknessChart'), { type: 'bar', data: { labels: sickBarData.labels, datasets: [{ label: 'Sickness Absence Rate (%)', data: sickBarData.values, backgroundColor: '#007B7F', borderRadius: 6 },{ label: 'England avg (5.61%)', data: Array(10).fill(5.61), type: 'line', borderColor: '#94A3B8', borderDash: [5,5], borderWidth: 2, pointRadius: 0 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' } }, scales: { y: { beginAtZero: true, max: 8, ticks: { callback: v => v+'%' } } } } });
        function sortSickChart(sortType) {
            let indices = sickData.labels.map((_,i) => i);
            if (sortType === 'highest') indices.sort((a,b) => sickData.nov25[b] - sickData.nov25[a]);
            else if (sortType === 'lowest') indices.sort((a,b) => sickData.nov25[a] - sickData.nov25[b]);
            sicknessChart.data.labels = indices.map(i => sickData.labels[i]);
            sicknessChart.data.datasets[0].data = indices.map(i => sickData.nov25[i]);
            sicknessChart.update();
        }

        // Sickness trend chart - Shelford avg vs England
        const shelfordSickTrend = trendLabels.map((_,m) => {
            const vals = sickData.labels.map((name,i) => sickData.trends[name][m]);
            return Math.round(vals.reduce((s,v)=>s+v,0)/vals.length * 100) / 100;
        });
        new Chart(document.getElementById('sicknessTrendChart'), { type: 'line', data: { labels: trendLabels, datasets: [{ label: 'Shelford Average', data: shelfordSickTrend, borderColor: '#007B7F', backgroundColor: 'rgba(0,123,127,0.1)', tension: 0.4, fill: true },{ label: 'England', data: englandSickTrend, borderColor: '#94A3B8', backgroundColor: 'rgba(148,163,184,0.1)', tension: 0.4, fill: true }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' } }, scales: { y: { beginAtZero: false, min: 3.5, max: 7, ticks: { callback: v => v+'%' } } } } });

        // All data from NHS Staff Survey 2024 Benchmark Report (published March 2025)
        // Extracted from Benchmark-report-Excel-data-for-2020-2024.xlsx, 'Acute&Acute Community Trusts' sheet
        const surveyData = [
            { name: 'Birmingham', engagement: 6.62, morale: 5.80, recommend: 53.2, care: 57.1, pp1: 6.97, pp2: 5.69, pp3: 6.45, pp4: 5.97, pp5: 5.40, pp6: 6.09, pp7: 6.57 },
            { name: 'Cambridge', engagement: 7.02, morale: 6.02, recommend: 69.3, care: 77.1, pp1: 7.36, pp2: 6.00, pp3: 6.74, pp4: 6.20, pp5: 5.97, pp6: 6.56, pp7: 6.81 },
            { name: 'GSTT', engagement: 7.15, morale: 6.01, recommend: 72.6, care: 82.1, pp1: 7.35, pp2: 5.99, pp3: 6.89, pp4: 6.15, pp5: 5.86, pp6: 6.25, pp7: 6.81 },
            { name: 'Imperial', engagement: 7.11, morale: 6.08, recommend: 70.7, care: 74.5, pp1: 7.30, pp2: 5.99, pp3: 6.84, pp4: 6.17, pp5: 5.97, pp6: 6.21, pp7: 6.83 },
            { name: "King's", engagement: 6.58, morale: 5.54, recommend: 52.9, care: 61.6, pp1: 6.96, pp2: 5.64, pp3: 6.43, pp4: 5.80, pp5: 5.67, pp6: 5.69, pp7: 6.59 },
            { name: 'Manchester', engagement: 6.79, morale: 5.85, recommend: 59.7, care: 65.6, pp1: 7.22, pp2: 5.92, pp3: 6.69, pp4: 6.15, pp5: 5.59, pp6: 6.04, pp7: 6.75 },
            { name: 'Newcastle', engagement: 6.83, morale: 5.93, recommend: 61.2, care: 76.6, pp1: 7.17, pp2: 5.70, pp3: 6.59, pp4: 6.08, pp5: 5.50, pp6: 5.93, pp7: 6.48 },
            { name: 'Oxford', engagement: 6.98, morale: 5.92, recommend: 61.7, care: 74.3, pp1: 7.34, pp2: 5.96, pp3: 6.76, pp4: 6.16, pp5: 5.92, pp6: 6.25, pp7: 6.91 },
            { name: 'Sheffield', engagement: 6.79, morale: 5.96, recommend: 61.8, care: 69.5, pp1: 7.30, pp2: 5.92, pp3: 6.67, pp4: 6.11, pp5: 5.61, pp6: 5.96, pp7: 6.73 },
            { name: 'UCLH', engagement: 7.35, morale: 6.23, recommend: 79.4, care: 86.0, pp1: 7.51, pp2: 6.19, pp3: 6.99, pp4: 6.24, pp5: 5.99, pp6: 6.59, pp7: 6.92 }
        ];

        // Acute trust averages (across all 122 acute & acute community trusts)
        const acuteAvg = { engagement: 6.83, morale: 5.92, recommend: 60.0, care: 62.5,
                           pp1: 7.25, pp2: 5.90, pp3: 6.71, pp4: 6.10, pp5: 5.75, pp6: 6.16, pp7: 6.74 };

        // Sortable table
        function sortTable(sortType, e) {
            let sorted = [...surveyData];
            if (sortType === 'engagement') sorted.sort((a,b) => b.engagement - a.engagement);
            else if (sortType === 'recommend') sorted.sort((a,b) => b.recommend - a.recommend);
            else if (sortType === 'care') sorted.sort((a,b) => b.care - a.care);
            document.getElementById('surveyTableBody').innerHTML = sorted.map(t =>
                '<tr><td class="trust-name">'+t.name+'</td><td>'+t.engagement.toFixed(2)+'</td><td>'+t.morale.toFixed(2)+'</td><td>'+t.recommend.toFixed(1)+'%</td><td>'+t.care.toFixed(1)+'%</td></tr>'
            ).join('');
            if (e) { document.querySelectorAll('.sort-btn').forEach(btn => btn.classList.remove('active')); e.target.classList.add('active'); }
        }
        sortTable('alpha', null);

        // People Promise table
        document.getElementById('ppTableBody').innerHTML = surveyData.map(t =>
            '<tr><td class="trust-name">'+t.name+'</td><td>'+t.pp1.toFixed(2)+'</td><td>'+t.pp2.toFixed(2)+'</td><td>'+t.pp3.toFixed(2)+'</td><td>'+t.pp4.toFixed(2)+'</td><td>'+t.pp5.toFixed(2)+'</td><td>'+t.pp6.toFixed(2)+'</td><td>'+t.pp7.toFixed(2)+'</td></tr>'
        ).join('') + '<tr style="font-weight:600;background:rgba(0,123,127,0.05)"><td>Acute trust average</td><td>'+acuteAvg.pp1.toFixed(2)+'</td><td>'+acuteAvg.pp2.toFixed(2)+'</td><td>'+acuteAvg.pp3.toFixed(2)+'</td><td>'+acuteAvg.pp4.toFixed(2)+'</td><td>'+acuteAvg.pp5.toFixed(2)+'</td><td>'+acuteAvg.pp6.toFixed(2)+'</td><td>'+acuteAvg.pp7.toFixed(2)+'</td></tr>';

        // Engagement chart with acute average line
        const engData = { labels: surveyData.map(d=>d.name), values: surveyData.map(d=>d.engagement) };
        let engagementChart = new Chart(document.getElementById('engagementChart'), { type: 'bar', data: { labels: engData.labels, datasets: [{ label: 'Staff Engagement', data: engData.values, backgroundColor: '#007B7F', borderRadius: 6 },{ label: 'Acute trust avg (6.83)', data: Array(10).fill(6.83), type: 'line', borderColor: '#94A3B8', borderDash: [5,5], borderWidth: 2, pointRadius: 0 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' } }, scales: { y: { beginAtZero: false, min: 6, max: 7.6, ticks: { stepSize: 0.2 } } } } });
        function sortEngChart(sortType) {
            let indices = engData.labels.map((_,i) => i);
            if (sortType === 'highest') indices.sort((a,b) => engData.values[b] - engData.values[a]);
            else if (sortType === 'lowest') indices.sort((a,b) => engData.values[a] - engData.values[b]);
            engagementChart.data.labels = indices.map(i => engData.labels[i]);
            engagementChart.data.datasets[0].data = indices.map(i => engData.values[i]);
            engagementChart.update();
        }

        // Advocacy chart (recommend + care side by side)
        new Chart(document.getElementById('advocacyChart'), { type: 'bar', data: { labels: surveyData.map(d=>d.name), datasets: [{ label: 'Recommend as place to work', data: surveyData.map(d=>d.recommend), backgroundColor: '#007B7F', borderRadius: 6 },{ label: 'Happy with standard of care', data: surveyData.map(d=>d.care), backgroundColor: '#5B7F6C', borderRadius: 6 },{ label: 'Acute avg: Recommend (60.0%)', data: Array(10).fill(60.0), type: 'line', borderColor: '#007B7F', borderDash: [5,5], borderWidth: 2, pointRadius: 0 },{ label: 'Acute avg: Care (62.5%)', data: Array(10).fill(62.5), type: 'line', borderColor: '#5B7F6C', borderDash: [5,5], borderWidth: 2, pointRadius: 0 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' } }, scales: { y: { beginAtZero: false, min: 40, max: 100, ticks: { callback: v => v+'%' } } } } });

        // People Promise radar chart
        const ppLabels = ['Compassionate\n& Inclusive','Recognised\n& Rewarded','Voice that\nCounts','Safe &\nHealthy','Always\nLearning','Work\nFlexibly','Team\nWorking'];
        const shelfordPP = [
            surveyData.reduce((s,d)=>s+d.pp1,0)/10,
            surveyData.reduce((s,d)=>s+d.pp2,0)/10,
            surveyData.reduce((s,d)=>s+d.pp3,0)/10,
            surveyData.reduce((s,d)=>s+d.pp4,0)/10,
            surveyData.reduce((s,d)=>s+d.pp5,0)/10,
            surveyData.reduce((s,d)=>s+d.pp6,0)/10,
            surveyData.reduce((s,d)=>s+d.pp7,0)/10
        ];
        const acutePP = [acuteAvg.pp1, acuteAvg.pp2, acuteAvg.pp3, acuteAvg.pp4, acuteAvg.pp5, acuteAvg.pp6, acuteAvg.pp7];
        new Chart(document.getElementById('ppRadarChart'), { type: 'radar', data: { labels: ppLabels, datasets: [{ label: 'Shelford Average', data: shelfordPP, borderColor: '#007B7F', backgroundColor: 'rgba(0,123,127,0.15)', pointBackgroundColor: '#007B7F', pointRadius: 4 },{ label: 'Acute Trust Average', data: acutePP, borderColor: '#94A3B8', backgroundColor: 'rgba(148,163,184,0.1)', pointBackgroundColor: '#94A3B8', pointRadius: 4 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' } }, scales: { r: { min: 5, max: 8, ticks: { stepSize: 0.5 } } } } });
    </script>
</body>
</html>
