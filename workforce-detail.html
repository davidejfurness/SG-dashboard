<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workforce - Shelford Group Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        :root { --shelford-teal: #007B7F; --shelford-dark-teal: #005A5D; --shelford-sage: #5B7F6C; --shelford-cream: #FDFBF7; --text-dark: #1A1A1A; --text-mid: #4A4A4A; --border-light: #E5E5E5; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: var(--shelford-cream); color: var(--text-dark); line-height: 1.6; padding: 2rem; }
        .container { max-width: 1400px; margin: 0 auto; }
        header { display: flex; align-items: center; gap: 2rem; margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 3px solid var(--shelford-teal); }
        .logo-link { display: inline-block; } .logo { width: 120px; height: auto; }
        h1 { font-size: 2.5rem; color: var(--shelford-dark-teal); font-weight: 700; }
        .subtitle { font-size: 1.1rem; color: var(--text-mid); margin-top: 0.5rem; }
        h2 { font-size: 1.8rem; color: var(--shelford-dark-teal); margin: 3rem 0 1rem 0; font-weight: 600; }
        h3 { font-size: 1.3rem; color: var(--shelford-dark-teal); margin: 1rem 0; }
        .source-note { font-size: 0.9rem; color: var(--text-mid); margin-top: 0.5rem; margin-bottom: 1.5rem; font-style: italic; }
        nav { background: white; padding: 1rem 2rem; border-radius: 12px; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,123,127,0.08); }
        nav a { color: var(--shelford-teal); text-decoration: none; font-weight: 500; padding: 0.5rem 1rem; transition: all 0.2s; display: inline-block; }
        nav a:hover { background: rgba(0,123,127,0.1); border-radius: 6px; }
        nav a.active { color: var(--shelford-dark-teal); background: rgba(0,123,127,0.1); border-radius: 6px; font-weight: 600; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 3rem; }
        .metric-card { background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,123,127,0.08); border-left: 4px solid var(--shelford-teal); }
        .metric-label { font-size: 0.9rem; color: var(--text-mid); margin-bottom: 0.5rem; font-weight: 500; }
        .metric-value { font-size: 2.5rem; color: var(--shelford-dark-teal); font-weight: 700; margin-bottom: 0.25rem; }
        .metric-benchmark { font-size: 0.85rem; color: var(--text-mid); }
        .chart-container { background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 2px 8px rgba(0,123,127,0.08); margin-bottom: 3rem; }
        .chart-wrapper { position: relative; height: 400px; margin-top: 1rem; }
        .chart-controls { margin-bottom: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap; }
        .chart-btn { padding: 0.5rem 1rem; background: var(--shelford-teal); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; transition: background 0.2s; }
        .chart-btn:hover { background: var(--shelford-dark-teal); }
        .info-box { background: rgba(0,123,127,0.05); border-left: 3px solid var(--shelford-teal); padding: 1rem 1.5rem; border-radius: 0 8px 8px 0; margin-bottom: 2rem; font-size: 0.95rem; color: var(--text-mid); }
        .info-box strong { color: var(--shelford-dark-teal); }
        footer { margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border-light); text-align: center; color: var(--text-mid); font-size: 0.9rem; }
        @media (max-width: 768px) { body { padding: 1rem; } h1 { font-size: 1.8rem; } .metric-value { font-size: 2rem; } .chart-wrapper { height: 300px; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="logo-link"><img src="shelford-logo.jpg" alt="Shelford Group" class="logo"></a>
            <div><h1>Workforce</h1><p class="subtitle">Vacancy rates, sickness absence and workforce sustainability metrics</p></div>
        </header>
        <nav><div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
            <a href="index.html">Overview</a><a href="rtt-detail.html">RTT & Elective Care</a><a href="ae-detail.html">A&E & Urgent Care</a><a href="cancer-detail.html">Cancer Services</a><a href="quality-detail.html">Patient Safety & Quality</a><a href="capacity-detail.html">Capacity & Beds</a><a href="workforce-detail.html" class="active">Workforce</a>
        </div></nav>

        <h2>Workforce Summary</h2>
        <p class="source-note">Source: NHS Digital Workforce Statistics, Q3 2025/26 (published November 2025)</p>
        <div class="dashboard-grid">
            <div class="metric-card"><div class="metric-label">Staff Vacancy Rate (Shelford Avg)</div><div class="metric-value">9.8%</div><div class="metric-benchmark">National average: 6.7%</div></div>
            <div class="metric-card"><div class="metric-label">Sickness Absence Rate (Shelford Avg)</div><div class="metric-value">4.4%</div><div class="metric-benchmark">National average: 5.1%</div></div>
        </div>

        <div class="chart-container"><h3>Staff Vacancy Rates by Trust</h3><p class="source-note">Source: NHS Digital Workforce Statistics, Q3 2025/26</p>
            <div class="chart-controls"><button class="chart-btn" onclick="sortVacancyChart('alpha')">A-Z</button><button class="chart-btn" onclick="sortVacancyChart('highest')">Highest to Lowest</button><button class="chart-btn" onclick="sortVacancyChart('lowest')">Lowest to Highest</button></div>
            <div class="chart-wrapper"><canvas id="vacancyChart"></canvas></div></div>

        <div class="chart-container"><h3>Staff Sickness Absence Rates by Trust</h3><p class="source-note">Source: NHS Digital Workforce Statistics, Q3 2025/26</p>
            <div class="chart-controls"><button class="chart-btn" onclick="sortSicknessChart('alpha')">A-Z</button><button class="chart-btn" onclick="sortSicknessChart('highest')">Highest to Lowest</button><button class="chart-btn" onclick="sortSicknessChart('lowest')">Lowest to Highest</button></div>
            <div class="chart-wrapper"><canvas id="sicknessChart"></canvas></div></div>

        <h2>Bank & Agency Staff Spending</h2>
        <div class="info-box">
            <strong>Data availability:</strong> Trust-level bank and agency spending data is not routinely published by NHS England in a comparable format. National figures are reported in NHS England's financial performance updates: agency spending fell to approximately £2.1 billion in 2024/25 (a 38% reduction from 2022/23), while bank staff spending was around £6 billion. The government has set targets for a further 30% reduction in agency spending. Trust-level breakdowns are available via individual trust annual reports and accounts, or through Freedom of Information requests. We are exploring options for including this data in future dashboard updates.
        </div>

        <footer><p>&copy; 2026 Shelford Group | Data updated February 2026</p></footer>
    </div>

    <script>
        const wfData = {
            labels: ['Birmingham','Cambridge','GSTT','Imperial',"King's",'Manchester','Newcastle','Oxford','Sheffield','UCLH'],
            vacancy: [10.8, 9.2, 8.5, 9.8, 11.2, 9.5, 8.9, 10.1, 10.4, 9.3],
            sickness: [4.8, 4.2, 3.9, 4.5, 5.1, 4.3, 4.0, 4.6, 4.7, 4.1]
        };

        // Vacancy chart - interactive
        let vacancyChart = new Chart(document.getElementById('vacancyChart'), { type: 'bar', data: { labels: [...wfData.labels], datasets: [{ label: 'Vacancy Rate', data: [...wfData.vacancy], backgroundColor: '#007B7F', borderRadius: 6 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, max: 15, ticks: { callback: v => v+'%' } } } } });
        function sortVacancyChart(sortType) {
            let indices = wfData.labels.map((_,i) => i);
            if (sortType === 'highest') indices.sort((a,b) => wfData.vacancy[b] - wfData.vacancy[a]);
            else if (sortType === 'lowest') indices.sort((a,b) => wfData.vacancy[a] - wfData.vacancy[b]);
            vacancyChart.data.labels = indices.map(i => wfData.labels[i]);
            vacancyChart.data.datasets[0].data = indices.map(i => wfData.vacancy[i]);
            vacancyChart.update();
        }

        // Sickness chart - now interactive
        let sicknessChart = new Chart(document.getElementById('sicknessChart'), { type: 'bar', data: { labels: [...wfData.labels], datasets: [{ label: 'Sickness Absence Rate', data: [...wfData.sickness], backgroundColor: '#5B7F6C', borderRadius: 6 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, max: 6, ticks: { callback: v => v+'%' } } } } });
        function sortSicknessChart(sortType) {
            let indices = wfData.labels.map((_,i) => i);
            if (sortType === 'highest') indices.sort((a,b) => wfData.sickness[b] - wfData.sickness[a]);
            else if (sortType === 'lowest') indices.sort((a,b) => wfData.sickness[a] - wfData.sickness[b]);
            sicknessChart.data.labels = indices.map(i => wfData.labels[i]);
            sicknessChart.data.datasets[0].data = indices.map(i => wfData.sickness[i]);
            sicknessChart.update();
        }
    </script>
</body>
</html>
